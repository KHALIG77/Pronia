 @model PlantDetailViewModel


<main class="main-content">
        <div
          class="breadcrumb-area breadcrumb-height"
          data-bg-image="assets/images/breadcrumb/bg/1-1-1919x388.jpg"
        >
          <div class="container h-100">
            <div class="row h-100">
              <div class="col-lg-12">
                <div class="breadcrumb-item">
                  <h2 class="breadcrumb-heading">Single Product</h2>
                  <ul>
                    <li>
                      <a href="index.html">Home</a>
                    </li>
                    <li>Single Product</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="single-product-area section-space-top-100">
          <div class="container">
            <div class="row">
              <div class="col-lg-6">
                <div class="single-product-img">
                  <div class="swiper-container single-product-slider">
                    <div class="swiper-wrapper">
                        @foreach (var item in Model.Plant.Images)
                                {
                                    <div class="swiper-slide">
                                        <a href="~/uploads/plants/@item.ImageName"
                                           class="single-img gallery-popup">
                                            <img class="img-full"
                                                 src="~/uploads/plants/@item.ImageName"
                                                 alt="Product Image" />
                                        </a>
                                    </div>
                                }
                     

                    </div>
                  </div>
                  <div class="thumbs-arrow-holder">
                    <div class="swiper-container single-product-thumbs">
                      <div class="swiper-wrapper">
                          @foreach (var img in Model.Plant.Images)
                                    {
                                        <a href="#" class="swiper-slide">
                                            <img height="133" class="img-full"
                                                 src="~/uploads/plants/@img.ImageName"
                                                 alt="Product Thumnail" />
                                        </a>
                                    }
                        
                        
                      </div>
                      <!-- Add Arrows -->
                      <div class="thumbs-button-wrap d-none d-md-block">
                        <div class="thumbs-button-prev">
                          <i class="pe-7s-angle-left"></i>
                        </div>
                        <div class="thumbs-button-next">
                          <i class="pe-7s-angle-right"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-6 pt-5 pt-lg-0">
                <div class="single-product-content">
                  <h2 class="title">@Model.Plant.Name</h2>
                        <div class="price-box pb-1">
                            @if (Model.Plant.DiscountPercent > 0)
                            {
                                <span class="new-price">$@((Model.Plant.SalePrice - ((Model.Plant.SalePrice * (Model.Plant.DiscountPercent)) / 100)).ToString("0.00"))</span>
                                <del class="old-price">$@Model.Plant.SalePrice.ToString("0.00")</del>
                                <span class="discount">@Model.Plant.DiscountPercent.ToString("0.##")%</span>
                            }
                            else
                            {
                                <span class="new-price">$@Model.Plant.SalePrice.ToString("0.00")</span>

                            }

                        </div>
                  <div class="rating-box-wrap pb-4">
                    <div class="rating-box">
                                <ul>
                                    @for (int j = 1; j <= 5; j++)
                                    {
                                        <li><i class="fa  @(j<=Model.Plant.Rate?"fa-star":"fa-star-o")"></i></li>
                                    }

                                </ul>
                    </div>
                    <div class="review-status">
                      <a href="#">(@Model.Plant.PlantComments.Count: Reviews)</a>
                    </div>
                  </div>
                  <p class="short-desc">
                   @Model.Plant.Description
                  </p>
                 
                  <ul class="service-item-wrap">
                      @foreach (var item in Model.Features)
                            {
                                 <li class="service-item">
                      <div class="service-img">
                        <img
                          src="~/uploads/features/@item.IconUrl"
                          alt="Shipping Icon"
                        />
                      </div>
                      <div class="service-content">
                        <span class="title"
                          >
                          @item.Title
                          </span
                        >
                      </div>
                    </li>
                            }
                   
                   
                  </ul>
                  <div class="product-category">
                    <span class="title">SKU:</span>
                    <ul>
                      <li>
                        <a href="#">Ch-256xl</a>
                      </li>
                    </ul>
                  </div>
                  <div class="product-category">
                    <span class="title">Categories :</span>
                    <ul>
                      <li>
                                    <a href="#">@Model.Plant.Category.Name</a>
                      </li>
                     
                    </ul>
                  </div>
                  <div class="product-category product-tags">
                    <span class="title">Tags :</span>
                    <ul>
                        @foreach (var tag in Model.Plant.Tags)
                                {
                                     <li>
                        <a>
                           @tag.Tag.Name,
                        </a>
                      </li>
                                }
                     
                    </ul>
                  </div>
                  <div
                    class="product-category social-link align-items-center pb-0"
                  >
                   
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="product-tab-area section-space-top-100">
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <ul class="nav product-tab-nav tab-style-2 pt-0" role="tablist">
                  
                 
                  <li class="nav-item" role="presentation">
                    <a
                      class="tab-btn"
                      id="reviews-tab"
                      data-bs-toggle="tab"
                      href="#reviews"
                      role="tab"
                      aria-controls="reviews"
                      aria-selected="false"
                    >
                      Reviews(@Model.Plant.PlantComments.Count)
                    </a>
                  </li>
                </ul>
                <div class="tab-content product-tab-content">
               
                  <div
                    class="tab-pane fade show active"
                    id="description"
                    role="tabpanel"
                    aria-labelledby="description-tab"
                  >
                    <div class="product-description-body">
                     
                    </div>
                  </div>
                  <div
                    class="tab-pane fade"
                    id="reviews"
                    role="tabpanel"
                    aria-labelledby="reviews-tab"
                  >
                    <div class="product-review-body">
                      <div class="blog-comment mt-0">
                        <h4 class="heading">Comments (@Model.Plant.PlantComments.Count)</h4>
                        @for (int i = 0; i < Model.Plant.PlantComments.Count; i++)
                       {
                                      <div class="blog-comment-item">
                                            @* <div class="blog-comment-img">
                                        <img
                                        src="assets/images/website-images/1-1-120x120.webp"
                                        alt="User Image"
                                        />
                                        </div>*@
                                            <div class="blog-comment-content">
                                                <div class="user-meta">
                                                    <h2 class="user-name"> @Model.Plant.PlantComments[i].AppUser.FullName</h2>
                                                    <span class="date">@Model.Plant.PlantComments[i].CreatedAt</span>
                                                </div>
                                                <p class="user-comment">
                                                   @Model.Plant.PlantComments[i].Comment
                                                </p>
                                               
                                            </div>
                                        </div>
                                        @if (Model.Plant.PlantComments[i].ReplyComment != null)
                                        {
                                            <div class="blog-comment-item relpy-item">
                                                @*<div class="blog-comment-img">
                                        <img
                                        src="assets/images/website-images/1-2-120x120.png"
                                        alt="User Image"
                                        />
                                        </div>*@
                                                <div class="blog-comment-content">
                                                    <div class="user-meta">
                                                        <h2 class="user-name">Admin</h2>
                                                        <span class="date">@Model.Plant.PlantComments[i].ReplyTime</span>
                                                    </div>
                                                    <p class="user-comment">
                                                       @Model.Plant.PlantComments[i].ReplyComment
                                                    </p>
                                                    
                                                </div>
                                            </div>
                                            
                                        }
                                       
                                    }
                       
                      
                      </div>
                                @if (Model.CommentShow)
                                {
                                    @Html.Partial("CommentFormPartialView",Model.Comment)

                                }
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Begin Product Area -->
        <div class="product-area section-space-y-axis-90">
          <div class="container">
            <div class="row">
              <div class="section-title-wrap without-tab">
                <h2 class="section-title">Related Products</h2>
                <p class="section-desc">
                  Contrary to popular belief, Lorem Ipsum is not simply random
                  text. It has roots in a piece of classical Latin literature
                </p>
              </div>
              <div class="col-lg-12">
                <div class="swiper-container product-slider">
                  <div class="swiper-wrapper">
                            @for (int i = 0; i < Model.RelatedItems.Count; i++)
                            {
                                <div class="swiper-slide product-item">
                                    <div class="product-img">
                                        <a href="shop.html">
                                            <img class="primary-img"
                                                 src="~/uploads/plants/@Model.RelatedItems[i].Images.FirstOrDefault(x=>x.ImageStatus==Pronia.Enums.ImageStatus.Poster).ImageName"
                                                 alt="Product Images" />
                                            <img class="secondary-img"
                                                 src="~/uploads/plants/@Model.RelatedItems[i].Images.FirstOrDefault(x=>x.ImageStatus==Pronia.Enums.ImageStatus.Hover).ImageName"
                                                 alt="Product Images" />
                                        </a>
                                        <div class="product-add-action">
                                            <ul>
                                                <li>
                                                    <a href="wishlist.html"
                                                       data-tippy="Add to wishlist"
                                                       data-tippy-inertia="true"
                                                       data-tippy-animation="shift-away"
                                                       data-tippy-delay="50"
                                                       data-tippy-arrow="true"
                                                       data-tippy-theme="sharpborder">
                                                        <i class="pe-7s-like"></i>
                                                    </a>
                                                </li>
                                                <li class="quuickview-btn"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#quickModal">
                                                    <a asp-action="modaldetail" asp-controller="plant" asp-route-id="@Model.RelatedItems[i].Id"
                                                       id="quick-view"
                                                       data-tippy="Quickview"
                                                       data-tippy-inertia="true"
                                                       data-tippy-animation="shift-away"
                                                       data-tippy-delay="50"
                                                       data-tippy-arrow="true"
                                                       data-tippy-theme="sharpborder">
                                                        <i class="pe-7s-look"></i>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="add-basket" asp-action="addtobasket" asp-controller="plant" asp-route-id="@Model.RelatedItems[i].Id"
                                                       data-tippy="Add to cart"
                                                       data-tippy-inertia="true"
                                                       data-tippy-animation="shift-away"
                                                       data-tippy-delay="50"
                                                       data-tippy-arrow="true"
                                                       data-tippy-theme="sharpborder">
                                                        <i class="pe-7s-cart"></i>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="product-content">
                                        <a class="product-name" href="shop.html">@Model.RelatedItems[i].Name</a>
                                        <div class="price-box pb-1">
                                            @if (Model.RelatedItems[i].DiscountPercent > 0)
                                            {
                                                <span class="new-price">$@((Model.RelatedItems[i].SalePrice - ((Model.RelatedItems[i].SalePrice * (Model.RelatedItems[i].DiscountPercent)) / 100)).ToString("0.00"))</span>
                                                <del class="old-price">$@Model.RelatedItems[i].SalePrice.ToString("0.00")</del>
                                                <span class="discount">@Model.RelatedItems[i].DiscountPercent.ToString("0.##")%</span>
                                            }
                                            else
                                            {
                                                <span class="new-price">$@Model.RelatedItems[i].SalePrice.ToString("0.00")</span>

                                            }

                                        </div>
                                        <div class="rating-box">
                                            <ul>
                                                @for (int j = 1; j <= 5; j++)
                                                {
                                                    <li><i class="fa  @(j<=Model.RelatedItems[i].Rate?"fa-star":"fa-star-o")"></i></li>
                                                }

                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            }
                   
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Product Area End Here -->
      </main>